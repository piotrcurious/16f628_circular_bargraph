gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00001 ; this is somewhat slower implementation of 16bit ADC + LED bar display. 
               00002 ; instead of turning all LEDs at once, it pulses each LED for a predefined period of time.
               00003 ; this allows to use just one resistor , and as current flows via max one LED at a time, this allows aswell to get rid of 
               00004 ; external transistor. only required elements are two resistors, which are not really nessesary if one assumes that 
               00005 ; pulse current will be so short that no damage will happen to either LEDs or PIC transistors. 
               00006 
               00007 ; TODO : make RA5 useable for something. 
               00008 ; TODO : implement WDT to powerdown mode etc.
               00009 ; RA4 is OC type, and the code measures how long it takes for it to return to 1 after 0'ing. 
               00010 ; connecting _small_ capacitor and large potentiometer is recommended if you want intensity knob.
               00011 ; if you want to save parts - just put a pullup resistor of i.e. 1mohm , 100kohm, etc can be used. 
               00012 ; as meter will wait to infinity if there is no 1 on the pin, it can be also used for powerdown mode. 
               00013 ;
               00014 ; this 'high intensity' version introduces very long delay, so no additional cap is needed for RA4 to 
               00015 ; reach full brightness. if large cap is used, delay can get very long, and visible strobing and even circling
               00016 ; is visible. i've preserved it without clamping for special effects purpose :)
               00017 ;
               00018 ; this 2nd version doesn't dim leds, illuminating 1-8, then clear and next bank. apparently it seems
               00019 ; that pic can handle more than 20mA sink current, so even though the more leds the more they get dim due to common
               00020 ; sink, it seems to be only alternative to having very bright display when power consumption is not issue
               00021 ; 
               00022 
               00023 LIST            P=PIC16F627
               00024 #INCLUDE        "p16f627.inc"
               00001         LIST
               00002 ; P16F627.INC  Standard Header File, Version 1.01    Microchip Technology, Inc.
               00261         LIST
               00025 
002007 3F50    00026         __CONFIG        _BODEN_ON & _CP_OFF & _DATA_CP_OFF & _PWRTE_ON & _WDT_OFF & _LVP_OFF & _MCLRE_OFF & _INTRC_OSC_NOCLKOUT
               00027 ;        __CONFIG        _BODEN_ON & _CP_OFF & _DATA_CP_OFF & _PWRTE_ON & _WDT_OFF & _LVP_OFF & _MCLRE_OFF & _HS_OSC
               00028 
               00029 bank0           macro
               00030                 bcf     STATUS,RP0
               00031                 endm
               00032 bank1           macro
               00033                 bsf     STATUS,RP0
               00034                 endm
               00035 
  00000050     00036 DISPLAY_TEMP1   equ   0x50
  00000051     00037 DISPLAY_RESULT_1        equ   0x51
  00000052     00038 DISPLAY_RESULT_2        equ   0x52
  00000053     00039 DISPLAY_RESULT_3        equ   0x53
  00000054     00040 DISPLAY_RESULT_4        equ   0x54
  00000055     00041 INTENSITY_KNOB          equ     0x55
  00000056     00042 DELAY                   equ     0x56
  00000057     00043 DELAY2                  equ     0x57
  00000000     00044 RA0             equ 0x00
  00000001     00045 RA1             equ 0x01
  00000002     00046 RA2             equ 0x02
  00000003     00047 RA3             equ 0x03
  00000004     00048 RA4             equ 0x04
  00000005     00049 RA5             equ 0x05
  00000006     00050 RA6             equ 0x06
  00000007     00051 RA7             equ 0x07
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00052 
  00000000     00053 RB0             equ 0x00
  00000001     00054 RB1             equ 0x01
  00000002     00055 RB2             equ 0x02
  00000003     00056 RB3             equ 0x03
  00000004     00057 RB4             equ 0x04
  00000005     00058 RB5             equ 0x05
  00000006     00059 RB6             equ 0x06
  00000007     00060 RB7             equ 0x07
               00061 
0000           00062                 org 0            ; Reset Vector
0000 2805      00063                 goto INIT
               00064 
0004           00065                 org 4            ; Interrupt Vector
0004 2990      00066                 goto COMP
0005           00067                 org 5
               00068 
0005           00069 INIT:           bank0
0005 1283          M                 bcf     STATUS,RP0
               00070 ;               movlw b'00001101'      ; zwei komparatoren
0006 3005      00071                 movlw b'00000101'       ; one comparator 
0007 009F      00072                 movwf CMCON
               00073 ;               movlw H'14'      ; 
0008 3004      00074                 movlw b'00000100'      ; Timer 1:
               00075                                         ; 0 - TMR1ON - 0(off)
               00076                                         ; 1 - TMR1CS - 0(off) 
               00077                                         ; 2 - /T1SYNC - 1(off)
               00078                                         ; 3 - T1OSCEN - 0(off)
               00079 
               00080                                         ; 4 - T1CKPS0 - 0 
               00081                                         ; 5 - T1CKPS1 - 0 ; 1:1 prescaler
               00082                                         ; 6 - - 0 
               00083                                         ; 7 - - 0 
               00084 
0009 0090      00085                 movwf T1CON      ; A 1 MHz clock is used
000A 0185      00086                 clrf PORTA
000B 0186      00087                 clrf PORTB
               00088                 bank1
000C 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
000D 0186      00089                 clrf TRISB
               00090 ;               movlw H'CF'      ; Enable Vref = 3.6v
               00091 ;               movwf VRCON
000E 178B      00092                 bsf INTCON,GIE   ; Enable Global Int
000F 170B      00093                 bsf INTCON,PEIE  ; Unmask Peripheral Int
               00094 
               00095 
0010           00096 MAIN:
               00097 
0010 2013      00098                 call CONVERT
0011 203F      00099                 call BARGRAF_DISPLAY
               00100 
0012 2810      00101                 goto MAIN
               00102 
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00103 ;-------------------------16bit ADC subroutine
               00104 
0013           00105 CONVERT:        
               00106                 bank0
0013 1283          M                 bcf     STATUS,RP0
0014 018E      00107                 clrf TMR1L       ; Clear Timer 1 L
0015 018F      00108                 clrf TMR1H       ; Clear Timer 1 H
               00109 
               00110                 bank1
0016 1683          M                 bsf     STATUS,RP0
0017 100C      00111                 bcf PIR1,TMR1IF
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0018 1505      00112                 bsf     TRISA,2  ; set RA2 as input
               00113 
0019           00114 DISCHARGE_COMPARATOR_CAP:
               00115                 bank1            ; 
0019 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
001A 1085      00116                 bcf TRISA,1      ; Set RA1 as output
               00117                 bank0
001B 1283          M                 bcf     STATUS,RP0
001C 1085      00118                 bcf PORTA,1      ; Discharge capacitor
001D 01D6      00119                 clrf    DELAY
001E           00120 DISCHARGE:      
Message [305] : Using default destination of 1 (file).
001E 0BD6      00121                 decfsz  DELAY
001F 281E      00122                 goto    DISCHARGE
0020 01D6      00123                 clrf    DELAY
0021           00124 DISCHARGE2:     
Message [305] : Using default destination of 1 (file).
0021 0BD6      00125                 decfsz  DELAY
0022 2821      00126                 goto    DISCHARGE2
0023 01D6      00127                 clrf    DELAY
0024           00128 DISCHARGE3:     
Message [305] : Using default destination of 1 (file).
0024 0BD6      00129                 decfsz  DELAY
0025 2824      00130                 goto    DISCHARGE3
0026 01D6      00131                 clrf    DELAY
0027           00132 DISCHARGE4:     
Message [305] : Using default destination of 1 (file).
0027 0BD6      00133                 decfsz  DELAY
0028 2827      00134                 goto    DISCHARGE4
               00135 
               00136                 bank1           ;  switch bank to 1
0029 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
002A 1485      00137                 bsf     TRISA,1  ; make RA1 input, 
               00138                 bank0           ; switch back to bank0 . 
002B 1283          M                 bcf     STATUS,RP0
002C 1885      00139                 btfsc   PORTA,1  ;  make sure capacitor got discharged
002D 2819      00140                 goto    DISCHARGE_COMPARATOR_CAP ; if not, go back discharging it. 
               00141                                 ; else 
002E 130C      00142                 bcf PIR1,CMIF    ; Clear comp Int flag
               00143                 bank1
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
002F 1683          M                 bsf     STATUS,RP0
               00144 
               00145                                 ;               bsf TRISA,1      ; Reset RA1 as input,
               00146                                  ; cap starts charging 
               00147                                 
               00148                 bank0
0030 1283          M                 bcf     STATUS,RP0
0031 1410      00149                 bsf T1CON,TMR1ON ; Start Timer 1
0032 089F      00150                 movf CMCON,f     ; Read to sync output
               00151                 bank1
0033 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0034 140C      00152                 bsf PIE1,TMR1IE  ;unmask TMR1 interrupt 
0035 0000      00153                 nop
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0036 170C      00154                 bsf PIE1,CMIE    ; Unmask Comp Int
               00155 
0037 0000      00156 WAIT:           nop
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0038 1B0C      00157                 btfsc PIE1,CMIE  ; Wait for comp Int
               00158                                 ; ie wait until Int
0039 2837      00159                 goto WAIT        ; Enable bit has been
               00160                                 ; cleared
003A           00161 GETDATA:                        ; Timer 1 contains
               00162                                 ; DATA (TMR1L TMR1H)
               00163 
               00164                 bank1            ; 
003A 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
003B 1085      00165                 bcf TRISA,1      ; Set RA1 as output
               00166                 bank0
003C 1283          M                 bcf     STATUS,RP0
003D 1085      00167                 bcf PORTA,1      ; Discharge capacitor
               00168 
003E 0008      00169                 return
               00170 
               00171 ;-------------------------simple bargraf display subroutine
               00172 
003F           00173 BARGRAF_DISPLAY:
               00174                 bank0
003F 1283          M                 bcf     STATUS,RP0
               00175 ;               movfw   TMR1H           ;we get only most significiant byte
0040 080E      00176                 movfw   TMR1L           ;we get only least significiant byte (for quick testing)
               00177                                         
               00178 ;               andlw   b'11111000'     ;and most significiant nibble - this filtering is obsolete
               00179                                         
0041 00D0      00180                 movwf   DISPLAY_TEMP1   ;bit testing cannot operate on W
               00181 
               00182 
               00183                 ; RA4 has significant capacitance. let's initalise line select pins first then. 
               00184                 bank1
0042 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0043 0186      00185                 clrf    TRISB ; we use PORTB configured as output for that
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0044 1205      00186                 bcf     TRISA,RA4 ; as PORTB is 8 bit, RA4 will select 3rd significant LED strip
               00187                                         ; IT REQUIRES PULL-UP POTENTIOMETER
0045 0000      00188                 nop
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0046 1185      00189                 bcf     TRISA,RA3 ; as PORTB is 8 BIT, RA3 will select 2nd significant LED strip
0047 0000      00190                 nop
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0048 1005      00191                 bcf     TRISA,RA0 ; as PORTB is 8 bit, RA0 will select 1st significant LED strip. 
               00192                 bank0 
0049 1283          M                 bcf     STATUS,RP0
004A 0186      00193                 clrf    PORTB ; switch off all LEDS .
               00194                                 ;1 used as output 'on' state
004B 1205      00195                 bcf     PORTA,RA4 ; RA4 is used for intensity delay routine. resetting . 
               00196                                 ; IT REQUIRES PULL UP AND CAPACITOR!
004C 0000      00197                 nop
004D 1585      00198                 bsf     PORTA,RA3 ; 2nd significant bar is off (LED cathodes connect to RA3 via resistor) 
004E 0000      00199                 nop
004F 1405      00200                 bsf     PORTA,RA0 ; 1st significant bar is off (LED cathodes connect to RA0 via resistor). 
0050 0000      00201                 nop 
               00202 
               00203 
               00204                 
0051 01D1      00205                 clrf    DISPLAY_RESULT_1   ;we clear last display results
0052 01D2      00206                 clrf    DISPLAY_RESULT_2  
0053 01D3      00207                 clrf    DISPLAY_RESULT_3                
0054 01D4      00208                 clrf    DISPLAY_RESULT_4                
               00209 
               00210 
               00211 
0055 1FD0      00212                 btfss   DISPLAY_TEMP1,7 ; if the '16' bit is set
0056 28A7      00213                 goto    BIT_7_NOT
               00214                 
0057 1403      00215                 bsf     STATUS,C                ; insert 1 16 times. 
Message [305] : Using default destination of 1 (file).
0058 0DD1      00216                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0059 0DD2      00217                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
005A 0DD3      00218                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
005B 0DD4      00219                 rlf     DISPLAY_RESULT_4                
005C 1403      00220                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
005D 0DD1      00221                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
005E 0DD2      00222                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
005F 0DD3      00223                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0060 0DD4      00224                 rlf     DISPLAY_RESULT_4                
0061 1403      00225                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0062 0DD1      00226                 rlf     DISPLAY_RESULT_1
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Message [305] : Using default destination of 1 (file).
0063 0DD2      00227                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
0064 0DD3      00228                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0065 0DD4      00229                 rlf     DISPLAY_RESULT_4                
0066 1403      00230                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0067 0DD1      00231                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0068 0DD2      00232                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
0069 0DD3      00233                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
006A 0DD4      00234                 rlf     DISPLAY_RESULT_4                
006B 1403      00235                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
006C 0DD1      00236                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
006D 0DD2      00237                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
006E 0DD3      00238                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
006F 0DD4      00239                 rlf     DISPLAY_RESULT_4                
0070 1403      00240                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0071 0DD1      00241                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0072 0DD2      00242                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
0073 0DD3      00243                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0074 0DD4      00244                 rlf     DISPLAY_RESULT_4                
0075 1403      00245                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0076 0DD1      00246                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0077 0DD2      00247                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
0078 0DD3      00248                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0079 0DD4      00249                 rlf     DISPLAY_RESULT_4                
007A 1403      00250                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
007B 0DD1      00251                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
007C 0DD2      00252                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
007D 0DD3      00253                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
007E 0DD4      00254                 rlf     DISPLAY_RESULT_4                
007F 1403      00255                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0080 0DD1      00256                 rlf     DISPLAY_RESULT_1
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Message [305] : Using default destination of 1 (file).
0081 0DD2      00257                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
0082 0DD3      00258                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0083 0DD4      00259                 rlf     DISPLAY_RESULT_4                
0084 1403      00260                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0085 0DD1      00261                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0086 0DD2      00262                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
0087 0DD3      00263                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0088 0DD4      00264                 rlf     DISPLAY_RESULT_4                
0089 1403      00265                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
008A 0DD1      00266                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
008B 0DD2      00267                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
008C 0DD3      00268                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
008D 0DD4      00269                 rlf     DISPLAY_RESULT_4                
008E 1403      00270                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
008F 0DD1      00271                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0090 0DD2      00272                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
0091 0DD3      00273                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0092 0DD4      00274                 rlf     DISPLAY_RESULT_4                
0093 1403      00275                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0094 0DD1      00276                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0095 0DD2      00277                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
0096 0DD3      00278                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0097 0DD4      00279                 rlf     DISPLAY_RESULT_4                
0098 1403      00280                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0099 0DD1      00281                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
009A 0DD2      00282                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
009B 0DD3      00283                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
009C 0DD4      00284                 rlf     DISPLAY_RESULT_4                
009D 1403      00285                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
009E 0DD1      00286                 rlf     DISPLAY_RESULT_1
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Message [305] : Using default destination of 1 (file).
009F 0DD2      00287                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00A0 0DD3      00288                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00A1 0DD4      00289                 rlf     DISPLAY_RESULT_4                
00A2 1403      00290                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00A3 0DD1      00291                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00A4 0DD2      00292                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00A5 0DD3      00293                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00A6 0DD4      00294                 rlf     DISPLAY_RESULT_4                
               00295 
               00296 
00A7           00297 BIT_7_NOT
00A7 1F50      00298                 btfss   DISPLAY_TEMP1,6 ;if the '8' bit is set
00A8 28D1      00299                 goto    BIT_6_NOT
00A9 1403      00300                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00AA 0DD1      00301                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00AB 0DD2      00302                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00AC 0DD3      00303                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00AD 0DD4      00304                 rlf     DISPLAY_RESULT_4                
00AE 1403      00305                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00AF 0DD1      00306                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00B0 0DD2      00307                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00B1 0DD3      00308                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00B2 0DD4      00309                 rlf     DISPLAY_RESULT_4                
00B3 1403      00310                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00B4 0DD1      00311                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00B5 0DD2      00312                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00B6 0DD3      00313                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00B7 0DD4      00314                 rlf     DISPLAY_RESULT_4                
00B8 1403      00315                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00B9 0DD1      00316                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00BA 0DD2      00317                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00BB 0DD3      00318                 rlf     DISPLAY_RESULT_3
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Message [305] : Using default destination of 1 (file).
00BC 0DD4      00319                 rlf     DISPLAY_RESULT_4                
00BD 1403      00320                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00BE 0DD1      00321                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00BF 0DD2      00322                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00C0 0DD3      00323                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00C1 0DD4      00324                 rlf     DISPLAY_RESULT_4                
00C2 1403      00325                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00C3 0DD1      00326                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00C4 0DD2      00327                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00C5 0DD3      00328                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00C6 0DD4      00329                 rlf     DISPLAY_RESULT_4                
00C7 1403      00330                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00C8 0DD1      00331                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00C9 0DD2      00332                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00CA 0DD3      00333                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00CB 0DD4      00334                 rlf     DISPLAY_RESULT_4                
00CC 1403      00335                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00CD 0DD1      00336                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00CE 0DD2      00337                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00CF 0DD3      00338                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00D0 0DD4      00339                 rlf     DISPLAY_RESULT_4                
               00340                 
               00341                 
00D1           00342 BIT_6_NOT:
00D1 1ED0      00343                 btfss   DISPLAY_TEMP1,5 ;if the '4' bit is set
00D2 28E7      00344                 goto    BIT_5_NOT
00D3 1403      00345                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00D4 0DD1      00346                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00D5 0DD2      00347                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00D6 0DD3      00348                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00D7 0DD4      00349                 rlf     DISPLAY_RESULT_4                
00D8 1403      00350                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00D9 0DD1      00351                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00DA 0DD2      00352                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00DB 0DD3      00353                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00DC 0DD4      00354                 rlf     DISPLAY_RESULT_4                
00DD 1403      00355                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00DE 0DD1      00356                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00DF 0DD2      00357                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00E0 0DD3      00358                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00E1 0DD4      00359                 rlf     DISPLAY_RESULT_4                
00E2 1403      00360                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00E3 0DD1      00361                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00E4 0DD2      00362                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00E5 0DD3      00363                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00E6 0DD4      00364                 rlf     DISPLAY_RESULT_4                
00E7           00365 BIT_5_NOT:
               00366 
00E7 1E50      00367                 btfss   DISPLAY_TEMP1,4 ;if the '2' bit is set
00E8 28F3      00368                 goto    BIT_4_NOT
00E9 1403      00369                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00EA 0DD1      00370                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00EB 0DD2      00371                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00EC 0DD3      00372                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00ED 0DD4      00373                 rlf     DISPLAY_RESULT_4                
00EE 1403      00374                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00EF 0DD1      00375                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00F0 0DD2      00376                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00F1 0DD3      00377                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00F2 0DD4      00378                 rlf     DISPLAY_RESULT_4                
00F3           00379 BIT_4_NOT:
               00380 
00F3 1DD0      00381                 btfss   DISPLAY_TEMP1,3 ;if the '1' bit is set
00F4 28FA      00382                 goto    BIT_3_NOT
00F5 1403      00383                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00F6 0DD1      00384                 rlf     DISPLAY_RESULT_1
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Message [305] : Using default destination of 1 (file).
00F7 0DD2      00385                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00F8 0DD3      00386                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00F9 0DD4      00387                 rlf     DISPLAY_RESULT_4                
00FA           00388 BIT_3_NOT:
               00389                 
               00390 ;-----------------debug-RA4 capacitance , time of discharge, quick hax
00FA 01D5      00391                 clrf    INTENSITY_KNOB
               00392 
               00393                 bank0   
00FB 1283          M                 bcf     STATUS,RP0
00FC 1605      00394                 bsf     PORTA,RA4
               00395                 bank1 
00FD 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
00FE 1605      00396                 bsf     TRISA,RA4
               00397                 bank0   
00FF 1283          M                 bcf     STATUS,RP0
               00398 
0100           00399 SET_RA4_HIGH    
Message [305] : Using default destination of 1 (file).
0100 0AD5      00400                 incf    INTENSITY_KNOB
0101 1E05      00401                 btfss   PORTA,RA4
0102 2900      00402                 goto    SET_RA4_HIGH ; go back increasing INTENSITY_KNOB
               00403                                 
               00404                 bank1   
0103 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0104 1205      00405                 bcf     TRISA,RA4 ; make RA4 out again ; RA4 should be at 2.4V now minimum
               00406                 bank0
0105 1283          M                 bcf     STATUS,RP0
               00407 
0106 1005      00408                 bcf     PORTA,RA0 ; least significant byte first 
               00409 
0107 0855      00410                 movfw   INTENSITY_KNOB ; load INTENSITY_KNOB value to w. it's used by INTENSITY DELAY 
               00411                                         ;not a very ellegant way, but it helps saving one cycle per each delay 
               00412                                         ;thus reducing shortest possible delay 
               00413 
0108 0851      00414                 movfw   DISPLAY_RESULT_1
0109 0086      00415                 movwf   PORTB
               00416 ;               call    INTENSITY_DELAY
010A 0855      00417                 movfw   INTENSITY_KNOB
               00418 ;               call    INTENSITY_DELAY 
010B 1851      00419                 btfsc   DISPLAY_RESULT_1,0
010C 217D      00420                 call    INTENSITY_DELAY
010D 18D1      00421                 btfsc   DISPLAY_RESULT_1,1
010E 217D      00422                 call    INTENSITY_DELAY
010F 1951      00423                 btfsc   DISPLAY_RESULT_1,2
0110 217D      00424                 call    INTENSITY_DELAY
0111 19D1      00425                 btfsc   DISPLAY_RESULT_1,3
0112 217D      00426                 call    INTENSITY_DELAY
0113 1A51      00427                 btfsc   DISPLAY_RESULT_1,4
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0114 217D      00428                 call    INTENSITY_DELAY
0115 1AD1      00429                 btfsc   DISPLAY_RESULT_1,5
0116 217D      00430                 call    INTENSITY_DELAY
0117 1B51      00431                 btfsc   DISPLAY_RESULT_1,6
0118 217D      00432                 call    INTENSITY_DELAY
0119 1BD1      00433                 btfsc   DISPLAY_RESULT_1,7
011A 217D      00434                 call    INTENSITY_DELAY
011B 0186      00435                 clrf    PORTB
011C 1C51      00436                 btfss   DISPLAY_RESULT_1,0
011D 217D      00437                 call    INTENSITY_DELAY
011E 1CD1      00438                 btfss   DISPLAY_RESULT_1,1
011F 217D      00439                 call    INTENSITY_DELAY
0120 1D51      00440                 btfss   DISPLAY_RESULT_1,2
0121 217D      00441                 call    INTENSITY_DELAY
0122 1DD1      00442                 btfss   DISPLAY_RESULT_1,3
0123 217D      00443                 call    INTENSITY_DELAY
0124 1E51      00444                 btfss   DISPLAY_RESULT_1,4
0125 217D      00445                 call    INTENSITY_DELAY
0126 1ED1      00446                 btfss   DISPLAY_RESULT_1,5
0127 217D      00447                 call    INTENSITY_DELAY
0128 1F51      00448                 btfss   DISPLAY_RESULT_1,6
0129 217D      00449                 call    INTENSITY_DELAY
012A 1FD1      00450                 btfss   DISPLAY_RESULT_1,7
012B 217D      00451                 call    INTENSITY_DELAY
               00452 
               00453 
012C 1405      00454                 bsf     PORTA,RA0       ; less significant byte off
012D 0000      00455                 nop                     ;cannot operate on same register due to pipelining, so wait
012E 1185      00456                 bcf     PORTA,RA3       ; more significant byte on
               00457 
012F 0852      00458                 movfw   DISPLAY_RESULT_2
0130 0086      00459                 movwf   PORTB
               00460 ;               call    INTENSITY_DELAY
0131 0855      00461                 movfw   INTENSITY_KNOB
               00462 ;               call    INTENSITY_DELAY 
0132 1852      00463                 btfsc   DISPLAY_RESULT_2,0
0133 217D      00464                 call    INTENSITY_DELAY
0134 18D2      00465                 btfsc   DISPLAY_RESULT_2,1
0135 217D      00466                 call    INTENSITY_DELAY
0136 1952      00467                 btfsc   DISPLAY_RESULT_2,2
0137 217D      00468                 call    INTENSITY_DELAY
0138 19D2      00469                 btfsc   DISPLAY_RESULT_2,3
0139 217D      00470                 call    INTENSITY_DELAY
013A 1A52      00471                 btfsc   DISPLAY_RESULT_2,4
013B 217D      00472                 call    INTENSITY_DELAY
013C 1AD2      00473                 btfsc   DISPLAY_RESULT_2,5
013D 217D      00474                 call    INTENSITY_DELAY
013E 1B52      00475                 btfsc   DISPLAY_RESULT_2,6
013F 217D      00476                 call    INTENSITY_DELAY
0140 1BD2      00477                 btfsc   DISPLAY_RESULT_2,7
0141 217D      00478                 call    INTENSITY_DELAY
               00479 
0142 1585      00480                 bsf     PORTA,RA3       ; more significant byte off
               00481 
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0143 0186      00482                 clrf    PORTB
               00483 
0144 1C52      00484                 btfss   DISPLAY_RESULT_2,0
0145 217D      00485                 call    INTENSITY_DELAY
0146 1CD2      00486                 btfss   DISPLAY_RESULT_2,1
0147 217D      00487                 call    INTENSITY_DELAY
0148 1D52      00488                 btfss   DISPLAY_RESULT_2,2
0149 217D      00489                 call    INTENSITY_DELAY
014A 1DD2      00490                 btfss   DISPLAY_RESULT_2,3
014B 217D      00491                 call    INTENSITY_DELAY
014C 1E52      00492                 btfss   DISPLAY_RESULT_2,4
014D 217D      00493                 call    INTENSITY_DELAY
014E 1ED2      00494                 btfss   DISPLAY_RESULT_2,5
014F 217D      00495                 call    INTENSITY_DELAY
0150 1F52      00496                 btfss   DISPLAY_RESULT_2,6
0151 217D      00497                 call    INTENSITY_DELAY
0152 1FD2      00498                 btfss   DISPLAY_RESULT_2,7
0153 217D      00499                 call    INTENSITY_DELAY
               00500 
0154 1205      00501                 bcf     PORTA,RA4       ; most significant byte on
               00502 
               00503 
0155 0853      00504                 movfw   DISPLAY_RESULT_3
0156 0086      00505                 movwf   PORTB
               00506 ;               call    INTENSITY_DELAY
0157 0855      00507                 movfw   INTENSITY_KNOB
               00508 ;               call    INTENSITY_DELAY 
0158 1853      00509                 btfsc   DISPLAY_RESULT_3,0
0159 217D      00510                 call    INTENSITY_DELAY
015A 18D3      00511                 btfsc   DISPLAY_RESULT_3,1
015B 217D      00512                 call    INTENSITY_DELAY
015C 1953      00513                 btfsc   DISPLAY_RESULT_3,2
015D 217D      00514                 call    INTENSITY_DELAY
015E 19D3      00515                 btfsc   DISPLAY_RESULT_3,3
015F 217D      00516                 call    INTENSITY_DELAY
0160 1A53      00517                 btfsc   DISPLAY_RESULT_3,4
0161 217D      00518                 call    INTENSITY_DELAY
0162 1AD3      00519                 btfsc   DISPLAY_RESULT_3,5
0163 217D      00520                 call    INTENSITY_DELAY
0164 1B53      00521                 btfsc   DISPLAY_RESULT_3,6
0165 217D      00522                 call    INTENSITY_DELAY
0166 1BD3      00523                 btfsc   DISPLAY_RESULT_3,7
0167 217D      00524                 call    INTENSITY_DELAY
               00525 
0168 0186      00526                 clrf    PORTB
               00527                 
0169 1605      00528                 bsf     PORTA,RA4       ;most significant byte off
               00529 
016A 1C53      00530                 btfss   DISPLAY_RESULT_3,0
016B 217D      00531                 call    INTENSITY_DELAY
016C 1CD3      00532                 btfss   DISPLAY_RESULT_3,1
016D 217D      00533                 call    INTENSITY_DELAY
016E 1D53      00534                 btfss   DISPLAY_RESULT_3,2
016F 217D      00535                 call    INTENSITY_DELAY
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0170 1DD3      00536                 btfss   DISPLAY_RESULT_3,3
0171 217D      00537                 call    INTENSITY_DELAY
0172 1E53      00538                 btfss   DISPLAY_RESULT_3,4
0173 217D      00539                 call    INTENSITY_DELAY
0174 1ED3      00540                 btfss   DISPLAY_RESULT_3,5
0175 217D      00541                 call    INTENSITY_DELAY
0176 1F53      00542                 btfss   DISPLAY_RESULT_3,6
0177 217D      00543                 call    INTENSITY_DELAY
0178 1FD3      00544                 btfss   DISPLAY_RESULT_3,7
0179 217D      00545                 call    INTENSITY_DELAY
               00546 
               00547 
017A 0008      00548                 return 
               00549 
               00550 
               00551 ;INTENSITY_DELAY:
               00552 
017B 0000      00553                 nop
               00554 ;               nop     ;lenght defines intensity by amount of energy pumped into each led. 
               00555 
017C 0008      00556                 return
               00557 
017D           00558 INTENSITY_DELAY:
017D 00D6      00559                 movwf   DELAY   
017E 00D7      00560                 movwf   DELAY2
017F           00561 INTENSITY_DELAY_LOOP1:
Message [305] : Using default destination of 1 (file).
017F 0BD6      00562                 decfsz  DELAY
0180 297F      00563                 goto    INTENSITY_DELAY_LOOP1
0181 00D6      00564                 movwf   DELAY
Message [305] : Using default destination of 1 (file).
0182 0BD7      00565                 decfsz  DELAY2
0183 297F      00566                 goto    INTENSITY_DELAY_LOOP1
0184 0008      00567                 return
               00568 
               00569 
               00570 ; ------------------thiiiis is theory
               00571 
               00572 ;INTENSITY_DELAY
               00573                 bank1
0185 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0186 1085      00574                 bcf     TRISA,RA1               ; set RA1 pin as output - it should allow RA5 cap discharge by circuit 
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0187 1685      00575                 bsf     TRISA,RA5               ; tristate RA5 pin. it is tristate anyway, but let's make it input 
               00576                 bank0                           ; switch back to bank0 
0188 1283          M                 bcf     STATUS,RP0
0189 1085      00577                 bcf     PORTA,RA1               ; set RA1 to 0 . it should discharge RA5 cap by circuit trickery (diode :)
018A           00578 INTENSITY_DELAY1:
018A 1E85      00579                 btfss   PORTA,RA5               ; check if delay capacitor got charged, skip if yes
018B 298A      00580                 goto    INTENSITY_DELAY1        ; if no, just wait for it to happen. 
               00581 
               00582                 bank1                           ; when done switch back to bank1
018C 1683          M                 bsf     STATUS,RP0
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
018D 1485      00583                 bsf     TRISA,RA1               ; set RA1 as input back 
               00584                 bank0
018E 1283          M                 bcf     STATUS,RP0
018F 0008      00585                 return
               00586 
               00587 
               00588 
               00589 
               00590 
               00591 
               00592 ;           Comparator Interrupt Service routine
               00593 
0190           00594 COMP:           bank0
0190 1283          M                 bcf     STATUS,RP0
0191 1010      00595                 bcf T1CON,TMR1ON ; Stop Timer 1
0192 130C      00596                 bcf PIR1,CMIF    ; Clear Interrupt flag
0193 0000      00597                 nop
0194 100C      00598                 bcf PIR1,TMR1IF
               00599                 bank1
0195 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0196 130C      00600                 bcf PIE1,CMIE    ; Mask Comparator Int
0197 0000      00601                 nop
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0198 100C      00602                 bcf PIE1,TMR1IE
0199 0009      00603                 retfie 
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE 16


SYMBOL TABLE
  LABEL                             VALUE 

ADEN                              00000003
BARGRAF_DISPLAY                   0000003F
BIT_3_NOT                         000000FA
BIT_4_NOT                         000000F3
BIT_5_NOT                         000000E7
BIT_6_NOT                         000000D1
BIT_7_NOT                         000000A7
BRGH                              00000002
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CIS                               00000003
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             0000001F
CMIE                              00000006
CMIF                              00000006
COMP                              00000190
CONVERT                           00000013
CREN                              00000004
CSRC                              00000007
DC                                00000001
DELAY                             00000056
DELAY2                            00000057
DISCHARGE                         0000001E
DISCHARGE2                        00000021
DISCHARGE3                        00000024
DISCHARGE4                        00000027
DISCHARGE_COMPARATOR_CAP          00000019
DISPLAY_RESULT_1                  00000051
DISPLAY_RESULT_2                  00000052
DISPLAY_RESULT_3                  00000053
DISPLAY_RESULT_4                  00000054
DISPLAY_TEMP1                     00000050
EEADR                             0000009B
EECON1                            0000009C
EECON2                            0000009D
EEDATA                            0000009A
EEIE                              00000007
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
EEIF                              00000007
F                                 00000001
FERR                              00000002
FSR                               00000004
GETDATA                           0000003A
GIE                               00000007
INDF                              00000000
INIT                              00000005
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTENSITY_DELAY                   0000017D
INTENSITY_DELAY1                  0000018A
INTENSITY_DELAY_LOOP1             0000017F
INTENSITY_KNOB                    00000055
INTF                              00000001
IRP                               00000007
MAIN                              00000010
NOT_BO                            00000000
NOT_BOD                           00000000
NOT_BOR                           00000000
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_T1SYNC                        00000002
NOT_TO                            00000004
OERR                              00000001
OPTION_REG                        00000081
OSCF                              00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PIE1                              0000008C
PIR1                              0000000C
PORTA                             00000005
PORTB                             00000006
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RA6                               00000006
RA7                               00000007
RB0                               00000000
RB1                               00000001
RB2                               00000002
RB3                               00000003
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RP0                               00000005
RP1                               00000006
RX9                               00000006
RX9D                              00000000
SET_RA4_HIGH                      00000100
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1OSCEN                           00000003
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRMT                              00000001
TX9                               00000006
TX9D                              00000000
TXEN                              00000005
TXIE                              00000004
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
VR0                               00000000
VR1                               00000001
VR2                               00000002
VR3                               00000003
VRCON                             0000009F
VREN                              00000007
VROE                              00000006
VRR                               00000005
W                                 00000000
WAIT                              00000037
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CP_50                            00002BFF
_CP_75                            000017FF
_CP_ALL                           000003FF
_CP_OFF                           00003FFF
_DATA_CP_OFF                      00003FFF
_DATA_CP_ON                       00003EFF
_ER_OSC_CLKOUT                    00003FFF
_ER_OSC_NOCLKOUT                  00003FFE
_EXTCLK_OSC                       00003FEF
_HS_OSC                           00003FEE
_INTRC_OSC_CLKOUT                 00003FFD
_INTRC_OSC_NOCLKOUT               00003FFC
_LP_OSC                           00003FEC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_MCLRE_OFF                        00003FDF
_MCLRE_ON                         00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_XT_OSC                           00003FED
__16F627                          00000001


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

00000000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
000000c0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000180 : XXXXXXXXXXXXXXXX XXXXXXXXXX------ ---------------- ----------------
00002000 : -------X-------- ---------------- ---------------- ----------------
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_intRC_NOclkout_serial_IO_high_intensity_version4.asm3-16-2010  16:33:56          PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 

All other memory blocks unused.

Program Memory Words Used: 408


Errors   :       0
Warnings :       0 reported,       0 suppressed
Messages :     150 reported,       0 suppressed

