gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE  1


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00001 ; this is somewhat slower implementation of 16bit ADC + LED bar display. 
               00002 ; instead of turning all LEDs at once, it pulses each LED for a predefined period of time.
               00003 ; this allows to use just one resistor , and as current flows via max one LED at a time, this allows aswell to get rid of 
               00004 ; external transistor. only required elements are two resistors, which are not really nessesary if one assumes that 
               00005 ; pulse current will be so short that no damage will happen to either LEDs or PIC transistors. 
               00006 
               00007 ; TODO : make RA5 useable for something. 
               00008 ; TODO : implement WDT to powerdown mode etc.
               00009 ; RA4 is OC type, and the code measures how long it takes for it to return to 1 after 0'ing. 
               00010 ; connecting _small_ capacitor and large potentiometer is recommended if you want intensity knob.
               00011 ; if you want to save parts - just put a pullup resistor of i.e. 1mohm , 100kohm, etc can be used. 
               00012 ; as meter will wait to infinity if there is no 1 on the pin, it can be also used for powerdown mode. 
               00013 
               00014 ; 
               00015 
               00016 LIST            P=PIC16F627
               00017 #INCLUDE        "p16f627.inc"
               00001         LIST
               00002 ; P16F627.INC  Standard Header File, Version 1.01    Microchip Technology, Inc.
               00261         LIST
               00018 
               00019 ;        __CONFIG        _BODEN_ON & _CP_OFF & _DATA_CP_OFF & _PWRTE_ON & _WDT_OFF & _LVP_OFF & _MCLRE_OFF & _INTRC_OSC_NOCLKOUT
002007 3F42    00020         __CONFIG        _BODEN_ON & _CP_OFF & _DATA_CP_OFF & _PWRTE_ON & _WDT_OFF & _LVP_OFF & _MCLRE_OFF & _HS_OSC
               00021 
               00022 bank0           macro
               00023                 bcf     STATUS,RP0
               00024                 endm
               00025 bank1           macro
               00026                 bsf     STATUS,RP0
               00027                 endm
               00028 
  00000050     00029 DISPLAY_TEMP1   equ   0x50
  00000051     00030 DISPLAY_RESULT_1        equ   0x51
  00000052     00031 DISPLAY_RESULT_2        equ   0x52
  00000053     00032 DISPLAY_RESULT_3        equ   0x53
  00000054     00033 DISPLAY_RESULT_4        equ   0x54
  00000055     00034 INTENSITY_KNOB          equ     0x55
  00000056     00035 DELAY                   equ     0x56
  00000057     00036 DELAY2                  equ     0x57
  00000058     00037 COMPARATOR_DISCHARGE_TIME       equ 0x58
  00000059     00038 COMPARATOR_DISCHARGE_TIME2      equ 0x59
  00000000     00039 RA0             equ 0x00
  00000001     00040 RA1             equ 0x01
  00000002     00041 RA2             equ 0x02
  00000003     00042 RA3             equ 0x03
  00000004     00043 RA4             equ 0x04
  00000005     00044 RA5             equ 0x05
  00000006     00045 RA6             equ 0x06
  00000007     00046 RA7             equ 0x07
               00047 
  00000000     00048 RB0             equ 0x00
  00000001     00049 RB1             equ 0x01
  00000002     00050 RB2             equ 0x02
  00000003     00051 RB3             equ 0x03
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE  2


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
  00000004     00052 RB4             equ 0x04
  00000005     00053 RB5             equ 0x05
  00000006     00054 RB6             equ 0x06
  00000007     00055 RB7             equ 0x07
               00056 
0000           00057                 org 0            ; Reset Vector
0000 2805      00058                 goto INIT
               00059 
0004           00060                 org 4            ; Interrupt Vector
0004 2988      00061                 goto COMP
0005           00062                 org 5
               00063 
0005           00064 INIT:           bank0
0005 1283          M                 bcf     STATUS,RP0
               00065 ;               movlw b'00001101'      ; zwei komparatoren
0006 3005      00066                 movlw b'00000101'       ; one comparator 
0007 009F      00067                 movwf CMCON
               00068 ;               movlw H'14'      ; 
0008 3004      00069                 movlw b'00000100'      ; Timer 1:
               00070                                         ; 0 - TMR1ON - 0(off)
               00071                                         ; 1 - TMR1CS - 0(off) 
               00072                                         ; 2 - /T1SYNC - 1(off)
               00073                                         ; 3 - T1OSCEN - 0(off)
               00074 
               00075                                         ; 4 - T1CKPS0 - 0 
               00076                                         ; 5 - T1CKPS1 - 0 ; 1:1 prescaler
               00077                                         ; 6 - - 0 
               00078                                         ; 7 - - 0 
               00079 
0009 0090      00080                 movwf T1CON      ; A 1 MHz clock is used
000A 0185      00081                 clrf PORTA
000B 0186      00082                 clrf PORTB
               00083                 bank1
000C 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
000D 0186      00084                 clrf TRISB
               00085 ;               movlw H'CF'      ; Enable Vref = 3.6v
               00086 ;               movwf VRCON
000E 178B      00087                 bsf INTCON,GIE   ; Enable Global Int
000F 170B      00088                 bsf INTCON,PEIE  ; Unmask Peripheral Int
               00089 
               00090 
0010           00091 MAIN:
0010 201F      00092                 call DISCHARGE_COMPARATOR_CAPACITOR
0011 202D      00093                 call CONVERT
0012 2046      00094                 call BARGRAF_DISPLAY
               00095 
0013 2810      00096                 goto MAIN
               00097 
0014           00098 DISCHARGE_COMPARATOR_CAP:
               00099                 bank1            ; 
0014 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0015 1085      00100                 bcf TRISA,1      ; Set RA1 as output
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE  3


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00101                 bank0
0016 1283          M                 bcf     STATUS,RP0
0017 1085      00102                 bcf PORTA,1      ; Discharge capacitor
0018 0000      00103                 nop             ; wait 
               00104 
               00105                 bank1           
0019 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
001A 1485      00106                 bsf     TRISA,1  ; make RA1 input
               00107                 bank0           ; switch back to bank0 . 
001B 1283          M                 bcf     STATUS,RP0
001C 1885      00108                 btfsc   PORTA,1  ;  make sure capacitor got discharged 
001D 2814      00109                 goto    DISCHARGE_COMPARATOR_CAP ; if not, go back discharging it. 
001E 0008      00110                 return 
               00111 
001F           00112 DISCHARGE_COMPARATOR_CAPACITOR:
001F 2014      00113                 call    DISCHARGE_COMPARATOR_CAP
               00114                 bank1 
0020 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0021 1085      00115                 bcf     TRISA,RA1 
0022 0000      00116                 nop
               00117 ;               bcf     TRISA,RA2
               00118                 bank0 
0023 1283          M                 bcf     STATUS,RP0
0024 1085      00119                 bcf     PORTA,RA1
0025 0000      00120                 nop
               00121 ;               bcf     PORTA,RA2
               00122                 
0026 01D9      00123                 clrf    COMPARATOR_DISCHARGE_TIME2
0027           00124 DISCHARGE_COMPARATOR2
               00125 
0027 01D8      00126                 clrf    COMPARATOR_DISCHARGE_TIME
               00127 
0028           00128 DISCHARGE_COMPARATOR
Message [305] : Using default destination of 1 (file).
0028 0BD8      00129                 decfsz  COMPARATOR_DISCHARGE_TIME
0029 2828      00130                 goto    DISCHARGE_COMPARATOR
Message [305] : Using default destination of 1 (file).
002A 0BD9      00131                 decfsz  COMPARATOR_DISCHARGE_TIME2
002B 2827      00132                 goto    DISCHARGE_COMPARATOR2
               00133 
002C 0008      00134                 return
               00135 
               00136 ;-------------------------16bit ADC subroutine
               00137 
002D           00138 CONVERT:        
               00139 
               00140                 bank1
002D 1683          M                 bsf     STATUS,RP0
002E 100C      00141                 bcf PIR1,TMR1IF
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
002F 1505      00142                 bsf     TRISA,RA2  ; set RA2 as input
0030 0000      00143                 nop
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE  4


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0031 1485      00144                 bsf     TRISA,RA1  ; set RA1 as input
               00145                 bank0
0032 1283          M                 bcf     STATUS,RP0
0033 018E      00146                 clrf TMR1L       ; Clear Timer 1 L
0034 018F      00147                 clrf TMR1H       ; Clear Timer 1 H
               00148 
0035 130C      00149                 bcf PIR1,CMIF    ; Clear comp Int flag
               00150                 bank1
0036 1683          M                 bsf     STATUS,RP0
               00151 
               00152                                 ;               bsf TRISA,1      ; Reset RA1 as input,
               00153                                  ; cap starts charging 
               00154                                 
               00155                 bank0
0037 1283          M                 bcf     STATUS,RP0
0038 1410      00156                 bsf T1CON,TMR1ON ; Start Timer 1
0039 089F      00157                 movf CMCON,f     ; Read to sync output
               00158                 bank1
003A 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
003B 140C      00159                 bsf PIE1,TMR1IE  ;unmask TMR1 interrupt 
003C 0000      00160                 nop
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
003D 170C      00161                 bsf PIE1,CMIE    ; Unmask Comp Int
               00162 
003E 0000      00163 WAIT:           nop
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
003F 1B0C      00164                 btfsc PIE1,CMIE  ; Wait for comp Int
               00165                                 ; ie wait until Int
0040 283E      00166                 goto WAIT        ; Enable bit has been
               00167                                 ; cleared
0041           00168 GETDATA:                        ; Timer 1 contains
               00169                                 ; DATA (TMR1L TMR1H)
               00170                 bank1            ; 
0041 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0042 1085      00171                 bcf TRISA,1      ; Set RA1 as output
               00172                 bank0
0043 1283          M                 bcf     STATUS,RP0
0044 1085      00173                 bcf PORTA,1      ; Discharge capacitor
0045 0008      00174                 return
               00175 
               00176 ;-------------------------simple bargraf display subroutine
               00177 
0046           00178 BARGRAF_DISPLAY:
               00179                 bank0
0046 1283          M                 bcf     STATUS,RP0
0047 080F      00180                 movfw   TMR1H           ;we get only most significiant byte
               00181 ;               movfw   TMR1L           ;we get only least significiant byte (for quick testing)
               00182 ;               movfw   COMPARATOR_DISCHARGE_TIME ; display how long it took to discharge comparator capacitor                                  
               00183 ;               andlw   b'11111000'     ;and most significiant nibble - this filtering is obsolete
               00184                                         
0048 00D0      00185                 movwf   DISPLAY_TEMP1   ;bit testing cannot operate on W
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE  5


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
               00186 
               00187 
               00188                 ; RA4 has significant capacitance. let's initalise line select pins first then. 
               00189                 bank1
0049 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
004A 0186      00190                 clrf    TRISB ; we use PORTB configured as output for that
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
004B 1205      00191                 bcf     TRISA,RA4 ; as PORTB is 8 bit, RA4 will select 3rd significant LED strip
               00192                                         ; IT REQUIRES PULL-UP POTENTIOMETER
004C 0000      00193                 nop
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
004D 1185      00194                 bcf     TRISA,RA3 ; as PORTB is 8 BIT, RA3 will select 2nd significant LED strip
004E 0000      00195                 nop
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
004F 1005      00196                 bcf     TRISA,RA0 ; as PORTB is 8 bit, RA0 will select 1st significant LED strip. 
               00197                 bank0 
0050 1283          M                 bcf     STATUS,RP0
0051 0186      00198                 clrf    PORTB ; switch off all LEDS .
               00199                                 ;1 used as output 'on' state
0052 1205      00200                 bcf     PORTA,RA4 ; RA4 is used for intensity delay routine. resetting . 
               00201                                 ; IT REQUIRES PULL UP AND CAPACITOR!
0053 0000      00202                 nop
0054 1585      00203                 bsf     PORTA,RA3 ; 2nd significant bar is off (LED cathodes connect to RA3 via resistor) 
0055 0000      00204                 nop
0056 1405      00205                 bsf     PORTA,RA0 ; 1st significant bar is off (LED cathodes connect to RA0 via resistor). 
0057 0000      00206                 nop 
               00207 
               00208 
               00209                 
0058 01D1      00210                 clrf    DISPLAY_RESULT_1   ;we clear last display results
0059 01D2      00211                 clrf    DISPLAY_RESULT_2  
005A 01D3      00212                 clrf    DISPLAY_RESULT_3                
005B 01D4      00213                 clrf    DISPLAY_RESULT_4                
               00214 
               00215 
               00216 
005C 1FD0      00217                 btfss   DISPLAY_TEMP1,7 ; if the '16' bit is set
005D 28AE      00218                 goto    BIT_7_NOT
               00219                 
005E 1403      00220                 bsf     STATUS,C                ; insert 1 16 times. 
Message [305] : Using default destination of 1 (file).
005F 0DD1      00221                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0060 0DD2      00222                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
0061 0DD3      00223                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0062 0DD4      00224                 rlf     DISPLAY_RESULT_4                
0063 1403      00225                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0064 0DD1      00226                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0065 0DD2      00227                 rlf     DISPLAY_RESULT_2
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE  6


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Message [305] : Using default destination of 1 (file).
0066 0DD3      00228                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0067 0DD4      00229                 rlf     DISPLAY_RESULT_4                
0068 1403      00230                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0069 0DD1      00231                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
006A 0DD2      00232                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
006B 0DD3      00233                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
006C 0DD4      00234                 rlf     DISPLAY_RESULT_4                
006D 1403      00235                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
006E 0DD1      00236                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
006F 0DD2      00237                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
0070 0DD3      00238                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0071 0DD4      00239                 rlf     DISPLAY_RESULT_4                
0072 1403      00240                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0073 0DD1      00241                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0074 0DD2      00242                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
0075 0DD3      00243                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0076 0DD4      00244                 rlf     DISPLAY_RESULT_4                
0077 1403      00245                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0078 0DD1      00246                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0079 0DD2      00247                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
007A 0DD3      00248                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
007B 0DD4      00249                 rlf     DISPLAY_RESULT_4                
007C 1403      00250                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
007D 0DD1      00251                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
007E 0DD2      00252                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
007F 0DD3      00253                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0080 0DD4      00254                 rlf     DISPLAY_RESULT_4                
0081 1403      00255                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0082 0DD1      00256                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0083 0DD2      00257                 rlf     DISPLAY_RESULT_2
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE  7


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Message [305] : Using default destination of 1 (file).
0084 0DD3      00258                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0085 0DD4      00259                 rlf     DISPLAY_RESULT_4                
0086 1403      00260                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0087 0DD1      00261                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0088 0DD2      00262                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
0089 0DD3      00263                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
008A 0DD4      00264                 rlf     DISPLAY_RESULT_4                
008B 1403      00265                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
008C 0DD1      00266                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
008D 0DD2      00267                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
008E 0DD3      00268                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
008F 0DD4      00269                 rlf     DISPLAY_RESULT_4                
0090 1403      00270                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0091 0DD1      00271                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0092 0DD2      00272                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
0093 0DD3      00273                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0094 0DD4      00274                 rlf     DISPLAY_RESULT_4                
0095 1403      00275                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
0096 0DD1      00276                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
0097 0DD2      00277                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
0098 0DD3      00278                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0099 0DD4      00279                 rlf     DISPLAY_RESULT_4                
009A 1403      00280                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
009B 0DD1      00281                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
009C 0DD2      00282                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
009D 0DD3      00283                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
009E 0DD4      00284                 rlf     DISPLAY_RESULT_4                
009F 1403      00285                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00A0 0DD1      00286                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00A1 0DD2      00287                 rlf     DISPLAY_RESULT_2
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE  8


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
Message [305] : Using default destination of 1 (file).
00A2 0DD3      00288                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00A3 0DD4      00289                 rlf     DISPLAY_RESULT_4                
00A4 1403      00290                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00A5 0DD1      00291                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00A6 0DD2      00292                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00A7 0DD3      00293                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00A8 0DD4      00294                 rlf     DISPLAY_RESULT_4                
00A9 1403      00295                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00AA 0DD1      00296                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00AB 0DD2      00297                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00AC 0DD3      00298                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00AD 0DD4      00299                 rlf     DISPLAY_RESULT_4                
               00300 
               00301 
00AE           00302 BIT_7_NOT
00AE 1F50      00303                 btfss   DISPLAY_TEMP1,6 ;if the '8' bit is set
00AF 28D8      00304                 goto    BIT_6_NOT
00B0 1403      00305                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00B1 0DD1      00306                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00B2 0DD2      00307                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00B3 0DD3      00308                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00B4 0DD4      00309                 rlf     DISPLAY_RESULT_4                
00B5 1403      00310                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00B6 0DD1      00311                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00B7 0DD2      00312                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00B8 0DD3      00313                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00B9 0DD4      00314                 rlf     DISPLAY_RESULT_4                
00BA 1403      00315                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00BB 0DD1      00316                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00BC 0DD2      00317                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00BD 0DD3      00318                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00BE 0DD4      00319                 rlf     DISPLAY_RESULT_4                
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE  9


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00BF 1403      00320                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00C0 0DD1      00321                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00C1 0DD2      00322                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00C2 0DD3      00323                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00C3 0DD4      00324                 rlf     DISPLAY_RESULT_4                
00C4 1403      00325                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00C5 0DD1      00326                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00C6 0DD2      00327                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00C7 0DD3      00328                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00C8 0DD4      00329                 rlf     DISPLAY_RESULT_4                
00C9 1403      00330                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00CA 0DD1      00331                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00CB 0DD2      00332                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00CC 0DD3      00333                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00CD 0DD4      00334                 rlf     DISPLAY_RESULT_4                
00CE 1403      00335                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00CF 0DD1      00336                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00D0 0DD2      00337                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00D1 0DD3      00338                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00D2 0DD4      00339                 rlf     DISPLAY_RESULT_4                
00D3 1403      00340                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00D4 0DD1      00341                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00D5 0DD2      00342                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00D6 0DD3      00343                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00D7 0DD4      00344                 rlf     DISPLAY_RESULT_4                
               00345                 
               00346                 
00D8           00347 BIT_6_NOT:
00D8 1ED0      00348                 btfss   DISPLAY_TEMP1,5 ;if the '4' bit is set
00D9 28EE      00349                 goto    BIT_5_NOT
00DA 1403      00350                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00DB 0DD1      00351                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE 10


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00DC 0DD2      00352                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00DD 0DD3      00353                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00DE 0DD4      00354                 rlf     DISPLAY_RESULT_4                
00DF 1403      00355                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00E0 0DD1      00356                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00E1 0DD2      00357                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00E2 0DD3      00358                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00E3 0DD4      00359                 rlf     DISPLAY_RESULT_4                
00E4 1403      00360                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00E5 0DD1      00361                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00E6 0DD2      00362                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00E7 0DD3      00363                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00E8 0DD4      00364                 rlf     DISPLAY_RESULT_4                
00E9 1403      00365                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00EA 0DD1      00366                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00EB 0DD2      00367                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00EC 0DD3      00368                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00ED 0DD4      00369                 rlf     DISPLAY_RESULT_4                
00EE           00370 BIT_5_NOT:
               00371 
00EE 1E50      00372                 btfss   DISPLAY_TEMP1,4 ;if the '2' bit is set
00EF 28FA      00373                 goto    BIT_4_NOT
00F0 1403      00374                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00F1 0DD1      00375                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00F2 0DD2      00376                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00F3 0DD3      00377                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00F4 0DD4      00378                 rlf     DISPLAY_RESULT_4                
00F5 1403      00379                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00F6 0DD1      00380                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00F7 0DD2      00381                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00F8 0DD3      00382                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
00F9 0DD4      00383                 rlf     DISPLAY_RESULT_4                
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE 11


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00FA           00384 BIT_4_NOT:
               00385 
00FA 1DD0      00386                 btfss   DISPLAY_TEMP1,3 ;if the '1' bit is set
00FB 2901      00387                 goto    BIT_3_NOT
00FC 1403      00388                 bsf     STATUS,C
Message [305] : Using default destination of 1 (file).
00FD 0DD1      00389                 rlf     DISPLAY_RESULT_1
Message [305] : Using default destination of 1 (file).
00FE 0DD2      00390                 rlf     DISPLAY_RESULT_2
Message [305] : Using default destination of 1 (file).
00FF 0DD3      00391                 rlf     DISPLAY_RESULT_3
Message [305] : Using default destination of 1 (file).
0100 0DD4      00392                 rlf     DISPLAY_RESULT_4                
0101           00393 BIT_3_NOT:
               00394                 
               00395 ;-----------------debug-RA4 capacitance , quick hax
0101 01D5      00396                 clrf    INTENSITY_KNOB
               00397 
               00398                 bank0   
0102 1283          M                 bcf     STATUS,RP0
0103 1605      00399                 bsf     PORTA,RA4
               00400                 bank1 
0104 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0105 1605      00401                 bsf     TRISA,RA4
               00402                 bank0   
0106 1283          M                 bcf     STATUS,RP0
               00403 
0107           00404 SET_RA4_HIGH    
Message [305] : Using default destination of 1 (file).
0107 03D5      00405                 decf    INTENSITY_KNOB
0108 1E05      00406                 btfss   PORTA,RA4
0109 2907      00407                 goto    SET_RA4_HIGH ; go back decreasing INTENSITY_KNOB
               00408                                         ;INTENSITY_KNOB gets decreased, so shortest time of re-charge
               00409                                         ; will mean longest delay (intensity) 
               00410                                         ; if longest time of discharge happens, intensity time is shorter.
               00411                                         ; this way simple logarhytmic pwm is achieved 
               00412                 bank1   
010A 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
010B 1205      00413                 bcf     TRISA,RA4 ; make RA4 out again
               00414                 bank0
010C 1283          M                 bcf     STATUS,RP0
               00415 
010D 1005      00416                 bcf     PORTA,RA0 ; least significant byte first 
               00417 
               00418                                         ;simple magic - check bit in display result, and switch on same bit of PORTB
               00419                                         ;calling intensity delay, then clear, and so on
010E 0855      00420                 movfw   INTENSITY_KNOB ; load INTENSITY_KNOB value to w. it's used by INTENSITY DELAY 
               00421                                         ;not a very ellegant way, but it helps saving one cycle per each delay 
               00422                                         ;thus reducing shortest possible delay 
               00423 
               00424 
010F 1851      00425                 btfsc   DISPLAY_RESULT_1,0
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE 12


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0110 1406      00426                 bsf     PORTB,0
0111 2179      00427                 call    INTENSITY_DELAY
0112 0186      00428                 clrf    PORTB
0113 18D1      00429                 btfsc   DISPLAY_RESULT_1,1
0114 1486      00430                 bsf     PORTB,1
0115 2179      00431                 call    INTENSITY_DELAY
0116 0186      00432                 clrf    PORTB
0117 1951      00433                 btfsc   DISPLAY_RESULT_1,2
0118 1506      00434                 bsf     PORTB,2
0119 2179      00435                 call    INTENSITY_DELAY
011A 0186      00436                 clrf    PORTB
011B 19D1      00437                 btfsc   DISPLAY_RESULT_1,3
011C 1586      00438                 bsf     PORTB,3
011D 2179      00439                 call    INTENSITY_DELAY
011E 0186      00440                 clrf    PORTB
011F 1A51      00441                 btfsc   DISPLAY_RESULT_1,4
0120 1606      00442                 bsf     PORTB,4
0121 2179      00443                 call    INTENSITY_DELAY
0122 0186      00444                 clrf    PORTB
0123 1AD1      00445                 btfsc   DISPLAY_RESULT_1,5
0124 1686      00446                 bsf     PORTB,5
0125 2179      00447                 call    INTENSITY_DELAY
0126 0186      00448                 clrf    PORTB
0127 1B51      00449                 btfsc   DISPLAY_RESULT_1,6
0128 1706      00450                 bsf     PORTB,6
0129 2179      00451                 call    INTENSITY_DELAY
012A 0186      00452                 clrf    PORTB
012B 1BD1      00453                 btfsc   DISPLAY_RESULT_1,7
012C 1786      00454                 bsf     PORTB,7
012D 2179      00455                 call    INTENSITY_DELAY
012E 0186      00456                 clrf    PORTB
               00457 
012F 1405      00458                 bsf     PORTA,RA0       ; less significant byte off
0130 0000      00459                 nop                     ;cannot operate on same register due to pipelining, so wait
0131 1185      00460                 bcf     PORTA,RA3       ; more significant byte on
               00461 
               00462                                         ; simple magic again - check bit in display result, and switch on same bit of PORTB
               00463                                         ;calling intensity delay, then clear, and so on
0132 1852      00464                 btfsc   DISPLAY_RESULT_2,0
0133 1406      00465                 bsf     PORTB,0
0134 2179      00466                 call    INTENSITY_DELAY
0135 0186      00467                 clrf    PORTB
0136 18D2      00468                 btfsc   DISPLAY_RESULT_2,1
0137 1486      00469                 bsf     PORTB,1
0138 2179      00470                 call    INTENSITY_DELAY
0139 0186      00471                 clrf    PORTB
013A 1952      00472                 btfsc   DISPLAY_RESULT_2,2
013B 1506      00473                 bsf     PORTB,2
013C 2179      00474                 call    INTENSITY_DELAY
013D 0186      00475                 clrf    PORTB
013E 19D2      00476                 btfsc   DISPLAY_RESULT_2,3
013F 1586      00477                 bsf     PORTB,3
0140 2179      00478                 call    INTENSITY_DELAY
0141 0186      00479                 clrf    PORTB
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE 13


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0142 1A52      00480                 btfsc   DISPLAY_RESULT_2,4
0143 1606      00481                 bsf     PORTB,4
0144 2179      00482                 call    INTENSITY_DELAY
0145 0186      00483                 clrf    PORTB
0146 1AD2      00484                 btfsc   DISPLAY_RESULT_2,5
0147 1686      00485                 bsf     PORTB,5
0148 2179      00486                 call    INTENSITY_DELAY
0149 0186      00487                 clrf    PORTB
014A 1B52      00488                 btfsc   DISPLAY_RESULT_2,6
014B 1706      00489                 bsf     PORTB,6
014C 2179      00490                 call    INTENSITY_DELAY
014D 0186      00491                 clrf    PORTB
014E 1BD2      00492                 btfsc   DISPLAY_RESULT_2,7
014F 1786      00493                 bsf     PORTB,7
0150 2179      00494                 call    INTENSITY_DELAY
0151 0186      00495                 clrf    PORTB
               00496 
0152 1585      00497                 bsf     PORTA,RA3       ; more significant byte off
0153 0000      00498                 nop                     ;cannot operate on same register due to pipelinging, so wait
0154 1205      00499                 bcf     PORTA,RA4       ; most significant byte on
               00500 
               00501                                         ; same simple magic - check bit in display result, and switch on same bit of PORTB
               00502                                         ;calling intensity delay, then clear, and so on
0155 1853      00503                 btfsc   DISPLAY_RESULT_3,0
0156 1406      00504                 bsf     PORTB,0
0157 2179      00505                 call    INTENSITY_DELAY
0158 0186      00506                 clrf    PORTB
0159 18D3      00507                 btfsc   DISPLAY_RESULT_3,1
015A 1486      00508                 bsf     PORTB,1
015B 2179      00509                 call    INTENSITY_DELAY
015C 0186      00510                 clrf    PORTB
015D 1953      00511                 btfsc   DISPLAY_RESULT_3,2
015E 1506      00512                 bsf     PORTB,2
015F 2179      00513                 call    INTENSITY_DELAY
0160 0186      00514                 clrf    PORTB
0161 19D3      00515                 btfsc   DISPLAY_RESULT_3,3
0162 1586      00516                 bsf     PORTB,3
0163 2179      00517                 call    INTENSITY_DELAY
0164 0186      00518                 clrf    PORTB
0165 1A53      00519                 btfsc   DISPLAY_RESULT_3,4
0166 1606      00520                 bsf     PORTB,4
0167 2179      00521                 call    INTENSITY_DELAY
0168 0186      00522                 clrf    PORTB
0169 1AD3      00523                 btfsc   DISPLAY_RESULT_3,5
016A 1686      00524                 bsf     PORTB,5
016B 2179      00525                 call    INTENSITY_DELAY
016C 0186      00526                 clrf    PORTB
016D 1B53      00527                 btfsc   DISPLAY_RESULT_3,6
016E 1706      00528                 bsf     PORTB,6
016F 2179      00529                 call    INTENSITY_DELAY
0170 0186      00530                 clrf    PORTB
0171 1BD3      00531                 btfsc   DISPLAY_RESULT_3,7
0172 1786      00532                 bsf     PORTB,7
0173 2179      00533                 call    INTENSITY_DELAY
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE 14


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0174 0186      00534                 clrf    PORTB
               00535                 
0175 1605      00536                 bsf     PORTA,RA4       ;most significant byte off
0176 0008      00537                 return 
               00538 
               00539 
               00540 ;INTENSITY_DELAY:
               00541 
0177 0000      00542                 nop
               00543 ;               nop     ;lenght defines intensity by amount of energy pumped into each led. 
               00544 
0178 0008      00545                 return
               00546 
0179           00547 INTENSITY_DELAY:
0179 00D6      00548                 movwf   DELAY   
017A           00549 INTENSITY_DELAY_LOOP1:
Message [305] : Using default destination of 1 (file).
017A 0BD6      00550                 decfsz  DELAY
017B 297A      00551                 goto    INTENSITY_DELAY_LOOP1 
017C 0008      00552                 return
               00553 
               00554 
               00555 ; ------------------thiiiis is theory
               00556 
               00557 ;INTENSITY_DELAY
               00558                 bank1
017D 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
017E 1085      00559                 bcf     TRISA,RA1               ; set RA1 pin as output - it should allow RA5 cap discharge by circuit 
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
017F 1685      00560                 bsf     TRISA,RA5               ; tristate RA5 pin. it is tristate anyway, but let's make it input 
               00561                 bank0                           ; switch back to bank0 
0180 1283          M                 bcf     STATUS,RP0
0181 1085      00562                 bcf     PORTA,RA1               ; set RA1 to 0 . it should discharge RA5 cap by circuit trickery (diode :)
0182           00563 INTENSITY_DELAY1:
0182 1E85      00564                 btfss   PORTA,RA5               ; check if delay capacitor got charged, skip if yes
0183 2982      00565                 goto    INTENSITY_DELAY1        ; if no, just wait for it to happen. 
               00566 
               00567                 bank1                           ; when done switch back to bank1
0184 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0185 1485      00568                 bsf     TRISA,RA1               ; set RA1 as input back 
               00569                 bank0
0186 1283          M                 bcf     STATUS,RP0
0187 0008      00570                 return
               00571 
               00572 
               00573 
               00574 
               00575 
               00576 
               00577 ;           Comparator Interrupt Service routine
               00578 
0188           00579 COMP:           bank0
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE 15


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
0188 1283          M                 bcf     STATUS,RP0
0189 1010      00580                 bcf T1CON,TMR1ON ; Stop Timer 1
018A 130C      00581                 bcf PIR1,CMIF    ; Clear Interrupt flag
018B 0000      00582                 nop
018C 100C      00583                 bcf PIR1,TMR1IF
               00584                 bank1
018D 1683          M                 bsf     STATUS,RP0
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
018E 130C      00585                 bcf PIE1,CMIE    ; Mask Comparator Int
018F 0000      00586                 nop
Message [302] : Register in operand not in bank 0. Ensure bank bits are correct.
0190 100C      00587                 bcf PIE1,TMR1IE
0191 0009      00588                 retfie 
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE 16


SYMBOL TABLE
  LABEL                             VALUE 

ADEN                              00000003
BARGRAF_DISPLAY                   00000046
BIT_3_NOT                         00000101
BIT_4_NOT                         000000FA
BIT_5_NOT                         000000EE
BIT_6_NOT                         000000D8
BIT_7_NOT                         000000AE
BRGH                              00000002
C                                 00000000
C1INV                             00000004
C1OUT                             00000006
C2INV                             00000005
C2OUT                             00000007
CCP1CON                           00000017
CCP1IE                            00000002
CCP1IF                            00000002
CCP1M0                            00000000
CCP1M1                            00000001
CCP1M2                            00000002
CCP1M3                            00000003
CCP1X                             00000005
CCP1Y                             00000004
CCPR1H                            00000016
CCPR1L                            00000015
CIS                               00000003
CM0                               00000000
CM1                               00000001
CM2                               00000002
CMCON                             0000001F
CMIE                              00000006
CMIF                              00000006
COMP                              00000188
COMPARATOR_DISCHARGE_TIME         00000058
COMPARATOR_DISCHARGE_TIME2        00000059
CONVERT                           0000002D
CREN                              00000004
CSRC                              00000007
DC                                00000001
DELAY                             00000056
DELAY2                            00000057
DISCHARGE_COMPARATOR              00000028
DISCHARGE_COMPARATOR2             00000027
DISCHARGE_COMPARATOR_CAP          00000014
DISCHARGE_COMPARATOR_CAPACITOR    0000001F
DISPLAY_RESULT_1                  00000051
DISPLAY_RESULT_2                  00000052
DISPLAY_RESULT_3                  00000053
DISPLAY_RESULT_4                  00000054
DISPLAY_TEMP1                     00000050
EEADR                             0000009B
EECON1                            0000009C
EECON2                            0000009D
EEDATA                            0000009A
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE 17


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
EEIE                              00000007
EEIF                              00000007
F                                 00000001
FERR                              00000002
FSR                               00000004
GETDATA                           00000041
GIE                               00000007
INDF                              00000000
INIT                              00000005
INTCON                            0000000B
INTE                              00000004
INTEDG                            00000006
INTENSITY_DELAY                   00000179
INTENSITY_DELAY1                  00000182
INTENSITY_DELAY_LOOP1             0000017A
INTENSITY_KNOB                    00000055
INTF                              00000001
IRP                               00000007
MAIN                              00000010
NOT_BO                            00000000
NOT_BOD                           00000000
NOT_BOR                           00000000
NOT_PD                            00000003
NOT_POR                           00000001
NOT_RBPU                          00000007
NOT_T1SYNC                        00000002
NOT_TO                            00000004
OERR                              00000001
OPTION_REG                        00000081
OSCF                              00000003
PCL                               00000002
PCLATH                            0000000A
PCON                              0000008E
PEIE                              00000006
PIE1                              0000008C
PIR1                              0000000C
PORTA                             00000005
PORTB                             00000006
PR2                               00000092
PS0                               00000000
PS1                               00000001
PS2                               00000002
PSA                               00000003
RA0                               00000000
RA1                               00000001
RA2                               00000002
RA3                               00000003
RA4                               00000004
RA5                               00000005
RA6                               00000006
RA7                               00000007
RB0                               00000000
RB1                               00000001
RB2                               00000002
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE 18


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
RB3                               00000003
RB4                               00000004
RB5                               00000005
RB6                               00000006
RB7                               00000007
RBIE                              00000003
RBIF                              00000000
RCIE                              00000005
RCIF                              00000005
RCREG                             0000001A
RCSTA                             00000018
RD                                00000000
RP0                               00000005
RP1                               00000006
RX9                               00000006
RX9D                              00000000
SET_RA4_HIGH                      00000107
SPBRG                             00000099
SPEN                              00000007
SREN                              00000005
STATUS                            00000003
SYNC                              00000004
T0CS                              00000005
T0IE                              00000005
T0IF                              00000002
T0SE                              00000004
T1CKPS0                           00000004
T1CKPS1                           00000005
T1CON                             00000010
T1OSCEN                           00000003
T2CKPS0                           00000000
T2CKPS1                           00000001
T2CON                             00000012
TMR0                              00000001
TMR1CS                            00000001
TMR1H                             0000000F
TMR1IE                            00000000
TMR1IF                            00000000
TMR1L                             0000000E
TMR1ON                            00000000
TMR2                              00000011
TMR2IE                            00000001
TMR2IF                            00000001
TMR2ON                            00000002
TOUTPS0                           00000003
TOUTPS1                           00000004
TOUTPS2                           00000005
TOUTPS3                           00000006
TRISA                             00000085
TRISB                             00000086
TRMT                              00000001
TX9                               00000006
TX9D                              00000000
TXEN                              00000005
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE 19


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
TXIE                              00000004
TXIF                              00000004
TXREG                             00000019
TXSTA                             00000098
VR0                               00000000
VR1                               00000001
VR2                               00000002
VR3                               00000003
VRCON                             0000009F
VREN                              00000007
VROE                              00000006
VRR                               00000005
W                                 00000000
WAIT                              0000003E
WR                                00000001
WREN                              00000002
WRERR                             00000003
Z                                 00000002
_BODEN_OFF                        00003FBF
_BODEN_ON                         00003FFF
_CP_50                            00002BFF
_CP_75                            000017FF
_CP_ALL                           000003FF
_CP_OFF                           00003FFF
_DATA_CP_OFF                      00003FFF
_DATA_CP_ON                       00003EFF
_ER_OSC_CLKOUT                    00003FFF
_ER_OSC_NOCLKOUT                  00003FFE
_EXTCLK_OSC                       00003FEF
_HS_OSC                           00003FEE
_INTRC_OSC_CLKOUT                 00003FFD
_INTRC_OSC_NOCLKOUT               00003FFC
_LP_OSC                           00003FEC
_LVP_OFF                          00003F7F
_LVP_ON                           00003FFF
_MCLRE_OFF                        00003FDF
_MCLRE_ON                         00003FFF
_PWRTE_OFF                        00003FFF
_PWRTE_ON                         00003FF7
_WDT_OFF                          00003FFB
_WDT_ON                           00003FFF
_XT_OSC                           00003FED
__16F627                          00000001


MEMORY USAGE MAP ('X' = Used,  '-' = Unused)

00000000 : X---XXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000040 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000080 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
000000c0 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000100 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000140 : XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX XXXXXXXXXXXXXXXX
00000180 : XXXXXXXXXXXXXXXX XX-------------- ---------------- ----------------
gpasm-0.13.3 beta               adc_display_24LED_bargraf_no_resistor_no_transistor_external_20mhz_serial_IO.asm5-26-2009  06:24:36          PAGE 20


LOC  OBJECT CODE     LINE SOURCE TEXT
  VALUE
 
00002000 : -------X-------- ---------------- ---------------- ----------------

All other memory blocks unused.

Program Memory Words Used: 400


Errors   :       0
Warnings :       0 reported,       0 suppressed
Messages :     149 reported,       0 suppressed

